function main(responses){var calc={roundToTwo:function(num){return+(Math.round(num+"e+2")+"e-2")},formatDateCH:function(date_string){if(null!==(date_string=date_string||null)){var year=parseInt(date_string.substring(0,4)),month=parseInt(date_string.substring(5,7));return parseInt(date_string.substring(8,10))+"."+month+"."+year}return null},getInterpretation:function(d,resp,score,range){var return_text="";return return_text="male"===d.patient.data.gender?"Herr "+d.patient.data.last_name:"Frau "+d.patient.data.last_name,return_text=(return_text=(return_text=(return_text+=" erreichte beim Resilienzfragebogen (RS-13) vom")+" "+calc.formatDateCH(resp.data.filled)+" ")+"einen Summenscore von "+score+", ")+"was auf eine "+range.interpretation_de+" hindeutet."},getResults:function(d){var allResults=[];return d.survey_responses.forEach(function(response,myindex){var myResults={rs13:{},rs13_score:0,interpretation:"",range:null,ranges:null},result=response.data.response;myResults.rs13.rs13_01=parseInt(result.rs13_01),myResults.rs13.rs13_02=parseInt(result.rs13_02),myResults.rs13.rs13_03=parseInt(result.rs13_03),myResults.rs13.rs13_04=parseInt(result.rs13_04),myResults.rs13.rs13_05=parseInt(result.rs13_05),myResults.rs13.rs13_06=parseInt(result.rs13_06),myResults.rs13.rs13_06=parseInt(result.rs13_06),myResults.rs13.rs13_07=parseInt(result.rs13_07),myResults.rs13.rs13_08=parseInt(result.rs13_08),myResults.rs13.rs13_09=parseInt(result.rs13_09),myResults.rs13.rs13_10=parseInt(result.rs13_10),myResults.rs13.rs13_11=parseInt(result.rs13_11),myResults.rs13.rs13_12=parseInt(result.rs13_12),myResults.rs13.rs13_13=parseInt(result.rs13_13),myResults.rs13_score=myResults.rs13.rs13_01+myResults.rs13.rs13_02+myResults.rs13.rs13_03+myResults.rs13.rs13_04+myResults.rs13.rs13_05+myResults.rs13.rs13_06+myResults.rs13.rs13_07+myResults.rs13.rs13_08+myResults.rs13.rs13_09+myResults.rs13.rs13_10+myResults.rs13.rs13_11+myResults.rs13.rs13_12+myResults.rs13.rs13_13;var current_range={},ranges=[{from:13,to:66,interpretation_de:"niedrige Widerstandskraft (Resilienz)",result_color:"#F44336"},{from:67,to:72,interpretation_de:"moderate Widerstandskraft (Resilienz)",result_color:"#FF9800"},{from:73,to:91,interpretation_de:"hohe Widerstandskraft (Resilienz)",result_color:"#4CAF50"}];current_range=ranges[0],myResults.rs13_score>=ranges[1].from&&(current_range=ranges[1]),myResults.rs13_score>=ranges[2].from&&(current_range=ranges[2]),myResults.range=current_range,myResults.ranges=ranges,myResults.interpretation=calc.getInterpretation(d,response,myResults.rs13_score,myResults.range),myResults.hash=result.optinomixHASH,myResults.response=response,allResults.push(myResults)}),allResults}};return calc.getResults(responses)}